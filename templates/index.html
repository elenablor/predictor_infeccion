<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Predicción de Infección Postquirúrgica</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
    <div class="container mt-5">
        <h2 class="mb-4 text-center">Formulario de Predicción</h2>
        <form action="/predict" method="post" class="card p-4 shadow">

            <div class="mb-3">
                <label class="form-label">Edad del paciente</label>
                <input type="number" class="form-control" name="EDAD" required>
            </div>

            <div class="mb-3">
                <label class="form-label">Sexo del paciente</label>
                <select class="form-select" name="Sexo" required>
                    <option value="0">Mujer</option>
                    <option value="1">Hombre</option>
                </select>
            </div>

            <div class="mb-3">
                <label class="form-label">Duración del procedimiento (en minutos)</label>
                <input type="number" class="form-control" name="Proc.Duración" required>
            </div>

            <div class="mb-3">
                <label class="form-label">¿Es una reintervención?</label>
                <select class="form-select" name="Proc.Esreintervención" required>
                    <option value="0">No</option>
                    <option value="1">Sí</option>
                </select>
            </div>

            <div class="mb-3">
                <label class="form-label">Tipo de intervención</label>
                <select class="form-select" name="TipoIntervención" required>
                    <option value="1">Primaria Electiva</option>
                    <option value="2">Primaria Urgente</option>
                    <option value="3">Revisión Electiva</option>
                    <option value="4">Revisión Urgente</option>
                </select>
            </div>

            <div class="mb-3">
                <label class="form-label">Código de procedimiento</label>
                <input type="number" class="form-control" name="PROCED" required>
            </div>

            <div class="mb-3">
                <label class="form-label">Quirófano</label>
                <select class="form-select" name="Quirófano_1.0" required>
                    <option value="1">Quirófano 1</option>
                    <option value="0">Otro</option>
                </select>
            </div>

            <div class="mb-3">
                <label class="form-label">ASA (riesgo anestésico)</label>
                <select class="form-select" name="Proc.ASA_1" required>
                    <option value="1">ASA 1</option>
                    <option value="0">Otro</option>
                </select>
            </div>

            <div class="mb-3">
                <label class="form-label">Valoración de profilaxis</label>
                <select class="form-select" name="ValoraciónProfilaxis_Adecuada/Aprobada" required>
                    <option value="1">Adecuada</option>
                    <option value="0">Otra</option>
                </select>
            </div>

            <div class="mb-3">
                <label class="form-label">Grado de contaminación quirúrgica</label>
                <select class="form-select" name="GradoContaminación_Limpia" required>
                    <option value="1">Limpia</option>
                    <option value="0">Otra</option>
                </select>
            </div>

            <button type="submit" class="btn btn-primary w-100">Predecir Riesgo</button>

        </form>

        {% if prediction is not none %}
        <div class="alert mt-4 {{ 'alert-danger' if prediction == 1 else 'alert-success' }}">
            Riesgo de infección: <strong>{{ 'ALTO' if prediction == 1 else 'BAJO' }}</strong>
        </div>
        {% endif %}

    </div>
</body>
</html>
